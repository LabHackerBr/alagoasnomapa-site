import{_ as ae}from"../chunks/preload-helper.41c905a7.js";import{S as re,i as ne,s as ce,k as h,a as A,y as T,l as p,m as $,h as d,c as L,z as G,n as c,b as V,F as g,A as q,g as y,d as I,f as J,B as C,K as oe,o as fe,e as z,v as Q,x as ee,q as te,r as se,u as le,w as ue,M as B,D as F}from"../chunks/index.35a15947.js";import{p as de}from"../chunks/stores.22c79621.js";import{b as K}from"../chunks/paths.baa0c7ab.js";import{V as _e}from"../chunks/vimeoPlayer.03199429.js";import{S as O}from"../chunks/slideTransition.be7b2432.js";function ie(r){let e,t;return e=new O({props:{key:r[4],transitionDelay:150,$$slots:{default:[pe]},$$scope:{ctx:r}}}),{c(){T(e.$$.fragment)},l(l){G(e.$$.fragment,l)},m(l,s){q(e,l,s),t=!0},p(l,s){const a={};s&16&&(a.key=l[4]),s&81&&(a.$$scope={dirty:s,ctx:l}),e.$set(a)},i(l){t||(y(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){C(e,l)}}}function me(r){let e,t,l;return{c(){e=h("img"),this.h()},l(s){e=p(s,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){c(e,"class","w-full h-full object-cover"),F(e.src,t="/photos/"+r[0].city.slides[r[4]].media.url)||c(e,"src",t),c(e,"alt",l=r[0].city.slides[r[4]].media.credit)},m(s,a){V(s,e,a)},p(s,a){a&17&&!F(e.src,t="/photos/"+s[0].city.slides[s[4]].media.url)&&c(e,"src",t),a&17&&l!==(l=s[0].city.slides[s[4]].media.credit)&&c(e,"alt",l)},i:B,o:B,d(s){s&&d(e)}}}function he(r){let e,t,l;return t=new _e({props:{url:r[0].city.slides[r[4]].media.url,autoplay:!0}}),{c(){e=h("div"),T(t.$$.fragment),this.h()},l(s){e=p(s,"DIV",{class:!0});var a=$(e);G(t.$$.fragment,a),a.forEach(d),this.h()},h(){c(e,"class","aspect-video bg-black")},m(s,a){V(s,e,a),q(t,e,null),l=!0},p(s,a){const i={};a&17&&(i.url=s[0].city.slides[s[4]].media.url),t.$set(i)},i(s){l||(y(t.$$.fragment,s),l=!0)},o(s){I(t.$$.fragment,s),l=!1},d(s){s&&d(e),C(t)}}}function pe(r){let e,t,l,s;const a=[he,me],i=[];function f(n,u){return n[0].city.slides[n[4]].media.type==="video"?0:1}return e=f(r),t=i[e]=a[e](r),{c(){t.c(),l=z()},l(n){t.l(n),l=z()},m(n,u){i[e].m(n,u),V(n,l,u),s=!0},p(n,u){let m=e;e=f(n),e===m?i[e].p(n,u):(Q(),I(i[m],1,1,()=>{i[m]=null}),J(),t=i[e],t?t.p(n,u):(t=i[e]=a[e](n),t.c()),y(t,1),t.m(l.parentNode,l))},i(n){s||(y(t),s=!0)},o(n){I(t),s=!1},d(n){i[e].d(n),n&&d(l)}}}function ve(r){let e,t,l;var s=r[2];function a(i){return{props:{mapData:i[0].city.slides,currentSlide:i[4]}}}return s&&(e=ee(s,a(r)),r[5](e)),{c(){e&&T(e.$$.fragment),t=z()},l(i){e&&G(e.$$.fragment,i),t=z()},m(i,f){e&&q(e,i,f),V(i,t,f),l=!0},p(i,f){const n={};if(f&1&&(n.mapData=i[0].city.slides),f&16&&(n.currentSlide=i[4]),f&4&&s!==(s=i[2])){if(e){Q();const u=e;I(u.$$.fragment,1,0,()=>{C(u,1)}),J()}s?(e=ee(s,a(i)),i[5](e),T(e.$$.fragment),y(e.$$.fragment,1),q(e,t.parentNode,t)):e=null}else s&&e.$set(n)},i(i){l||(e&&y(e.$$.fragment,i),l=!0)},o(i){e&&I(e.$$.fragment,i),l=!1},d(i){r[5](null),i&&d(t),e&&C(e,i)}}}function ge(r){let e,t,l,s=r[0].city.name+"",a,i,f,n=r[0].city.slides[r[4]].text.headline+"",u;return{c(){e=h("div"),t=h("div"),l=h("p"),a=te(s),i=A(),f=h("h1"),u=te(n),this.h()},l(m){e=p(m,"DIV",{class:!0});var k=$(e);t=p(k,"DIV",{class:!0});var b=$(t);l=p(b,"P",{class:!0});var P=$(l);a=se(P,s),P.forEach(d),i=L(b),f=p(b,"H1",{class:!0});var M=$(f);u=se(M,n),M.forEach(d),b.forEach(d),k.forEach(d),this.h()},h(){c(l,"class","uppercase text-xs lg:text-base"),c(f,"class","pt-1 font-bold text-lg lg:text-2xl"),c(t,"class","flex-grow px-2"),c(e,"class","w-full h-full p-8 flex items-center text-left portrait:text-center portrait:py-3 portrait:px-0")},m(m,k){V(m,e,k),g(e,t),g(t,l),g(l,a),g(t,i),g(t,f),g(f,u)},p(m,k){k&1&&s!==(s=m[0].city.name+"")&&le(a,s),k&17&&n!==(n=m[0].city.slides[m[4]].text.headline+"")&&le(u,n)},d(m){m&&d(e)}}}function $e(r){let e,t,l=r[0].city.slides[r[4]].text.text+"";return{c(){e=h("div"),t=h("div"),this.h()},l(s){e=p(s,"DIV",{class:!0});var a=$(e);t=p(a,"DIV",{class:!0});var i=$(t);i.forEach(d),a.forEach(d),this.h()},h(){c(t,"class","pb-10 lg:pb-0"),c(e,"class","w-full h-full p-8 lg:flex items-center block text-left")},m(s,a){V(s,e,a),g(e,t),t.innerHTML=l},p(s,a){a&17&&l!==(l=s[0].city.slides[s[4]].text.text+"")&&(t.innerHTML=l)},d(s){s&&d(e)}}}function be(r){let e;return{c(){e=h("div"),this.h()},l(t){e=p(t,"DIV",{class:!0}),$(e).forEach(d),this.h()},h(){c(e,"class","w-10")},m(t,l){V(t,e,l)},p:B,d(t){t&&d(e)}}}function ye(r){let e,t,l,s;return{c(){e=h("a"),t=h("img"),this.h()},l(a){e=p(a,"A",{class:!0,href:!0});var i=$(e);t=p(i,"IMG",{class:!0,src:!0,alt:!0}),i.forEach(d),this.h()},h(){c(t,"class","w-full transform rotate-180"),F(t.src,l="/imgs/seta.svg")||c(t,"src",l),c(t,"alt","Proximo slide"),c(e,"class","flex items-center justify-center w-10 text-white"),c(e,"href",s=K+"/cidades/"+r[1].params.cidade+"/"+r[4])},m(a,i){V(a,e,i),g(e,t)},p(a,i){i&18&&s!==(s=K+"/cidades/"+a[1].params.cidade+"/"+a[4])&&c(e,"href",s)},d(a){a&&d(e)}}}function ke(r){let e;return{c(){e=h("div"),this.h()},l(t){e=p(t,"DIV",{class:!0}),$(e).forEach(d),this.h()},h(){c(e,"class","w-10")},m(t,l){V(t,e,l)},p:B,d(t){t&&d(e)}}}function we(r){let e,t,l,s;return{c(){e=h("a"),t=h("img"),this.h()},l(a){e=p(a,"A",{class:!0,href:!0});var i=$(e);t=p(i,"IMG",{class:!0,src:!0,alt:!0}),i.forEach(d),this.h()},h(){c(t,"class","w-full"),F(t.src,l="/imgs/seta.svg")||c(t,"src",l),c(t,"alt","Proximo slide"),c(e,"class","flex items-center justify-center w-10 text-white"),c(e,"href",s=K+"/cidades/"+r[1].params.cidade+"/"+(r[4]+2))},m(a,i){V(a,e,i),g(e,t)},p(a,i){i&18&&s!==(s=K+"/cidades/"+a[1].params.cidade+"/"+(a[4]+2))&&c(e,"href",s)},d(a){a&&d(e)}}}function Ee(r){let e,t,l,s,a,i,f,n,u,m,k,b,P,M,H,v=r[0].city.slides[r[4]].media.url!==""&&ie(r),w=ve(r);f=new O({props:{key:r[4],$$slots:{default:[ge]},$$scope:{ctx:r}}}),m=new O({props:{key:r[4],transitionDelay:300,$$slots:{default:[$e]},$$scope:{ctx:r}}});function U(o,_){return o[4]>0?ye:be}let N=U(r),E=N(r);function W(o,_){return o[4]<o[0].city.slides.length-2?we:ke}let R=W(r),D=R(r);return{c(){e=h("article"),t=h("div"),v&&v.c(),l=A(),s=h("div"),w&&w.c(),a=A(),i=h("div"),T(f.$$.fragment),n=A(),u=h("div"),T(m.$$.fragment),k=A(),b=h("div"),E.c(),P=A(),M=h("div"),D.c(),this.h()},l(o){e=p(o,"ARTICLE",{class:!0});var _=$(e);t=p(_,"DIV",{class:!0});var S=$(t);v&&v.l(S),S.forEach(d),l=L(_),s=p(_,"DIV",{class:!0});var j=$(s);w&&w.l(j),j.forEach(d),a=L(_),i=p(_,"DIV",{class:!0});var X=$(i);G(f.$$.fragment,X),X.forEach(d),n=L(_),u=p(_,"DIV",{class:!0});var Y=$(u);G(m.$$.fragment,Y),Y.forEach(d),k=L(_),b=p(_,"DIV",{class:!0});var Z=$(b);E.l(Z),Z.forEach(d),P=L(_),M=p(_,"DIV",{class:!0});var x=$(M);D.l(x),x.forEach(d),_.forEach(d),this.h()},h(){c(t,"class","video relative aspect-video bg-black overflow-hidden svelte-5i5bal"),c(s,"class","map relative aspect-video bg-green-300 svelte-5i5bal"),c(i,"class","city relative overflow-hidden svelte-5i5bal"),c(u,"class","info relative overflow-x-hidden min-h-[30vh] lg:min-h-0 bg-white svelte-5i5bal"),c(b,"class","arrow-left flex items-center justify-center svelte-5i5bal"),c(M,"class","arrow-right flex items-center justify-center right-0 bg-white svelte-5i5bal"),c(e,"class","grid min-h-full w-full svelte-5i5bal")},m(o,_){V(o,e,_),g(e,t),v&&v.m(t,null),g(e,l),g(e,s),w&&w.m(s,null),g(e,a),g(e,i),q(f,i,null),g(e,n),g(e,u),q(m,u,null),g(e,k),g(e,b),E.m(b,null),g(e,P),g(e,M),D.m(M,null),H=!0},p(o,[_]){o[0].city.slides[o[4]].media.url!==""?v?(v.p(o,_),_&17&&y(v,1)):(v=ie(o),v.c(),y(v,1),v.m(t,null)):v&&(Q(),I(v,1,1,()=>{v=null}),J()),w.p(o,_);const S={};_&16&&(S.key=o[4]),_&81&&(S.$$scope={dirty:_,ctx:o}),f.$set(S);const j={};_&16&&(j.key=o[4]),_&81&&(j.$$scope={dirty:_,ctx:o}),m.$set(j),N===(N=U(o))&&E?E.p(o,_):(E.d(1),E=N(o),E&&(E.c(),E.m(b,null))),R===(R=W(o))&&D?D.p(o,_):(D.d(1),D=R(o),D&&(D.c(),D.m(M,null)))},i(o){H||(y(v),y(w),y(f.$$.fragment,o),y(m.$$.fragment,o),H=!0)},o(o){I(v),I(w),I(f.$$.fragment,o),I(m.$$.fragment,o),H=!1},d(o){o&&d(e),v&&v.d(),w&&w.d(),C(f),C(m),E.d(),D.d()}}}function De(r,e,t){let l,s;oe(r,de,u=>t(1,s=u));let a,i;fe(async()=>{t(2,a=(await ae(()=>import("../chunks/leafletMap.3d1563cc.js"),["../chunks/leafletMap.3d1563cc.js","../chunks/index.35a15947.js","../assets/leafletMap.3625237c.css"],import.meta.url)).default)});let{data:f}=e;function n(u){ue[u?"unshift":"push"](()=>{i=u,t(3,i)})}return r.$$set=u=>{"data"in u&&t(0,f=u.data)},r.$$.update=()=>{r.$$.dirty&2&&t(4,l=parseInt(s.params.slide)-1|0)},[f,s,a,i,l,n]}class Ae extends re{constructor(e){super(),ne(this,e,De,Ee,ce,{data:0})}}export{Ae as component};
