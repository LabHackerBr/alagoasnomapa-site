import{_ as ae}from"../chunks/preload-helper.41c905a7.js";import{S as re,i as ne,s as ce,k as h,a as j,y as T,l as p,m as $,h as u,c as A,z as G,n as c,b as V,E as g,A as C,g as y,d as D,f as K,B as q,J as oe,o as fe,e as z,v as Q,x as ee,q as te,r as se,u as le,w as ue,L as B,C as J}from"../chunks/index.fcc9cbf9.js";import{p as de}from"../chunks/stores.77ec5092.js";import{b as O}from"../chunks/paths.ef7ae943.js";import{V as _e}from"../chunks/vimeoPlayer.9c240bbb.js";import{S as F}from"../chunks/slideTransition.e98cf1ff.js";function ie(r){let e,t;return e=new F({props:{key:r[4],transitionDelay:150,$$slots:{default:[pe]},$$scope:{ctx:r}}}),{c(){T(e.$$.fragment)},l(l){G(e.$$.fragment,l)},m(l,s){C(e,l,s),t=!0},p(l,s){const a={};s&16&&(a.key=l[4]),s&81&&(a.$$scope={dirty:s,ctx:l}),e.$set(a)},i(l){t||(y(e.$$.fragment,l),t=!0)},o(l){D(e.$$.fragment,l),t=!1},d(l){q(e,l)}}}function me(r){let e,t,l;return{c(){e=h("img"),this.h()},l(s){e=p(s,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){c(e,"class","w-full h-full object-cover"),J(e.src,t="/photos/"+r[0].city.slides[r[4]].media.url)||c(e,"src",t),c(e,"alt",l=r[0].city.slides[r[4]].media.credit)},m(s,a){V(s,e,a)},p(s,a){a&17&&!J(e.src,t="/photos/"+s[0].city.slides[s[4]].media.url)&&c(e,"src",t),a&17&&l!==(l=s[0].city.slides[s[4]].media.credit)&&c(e,"alt",l)},i:B,o:B,d(s){s&&u(e)}}}function he(r){let e,t,l;return t=new _e({props:{url:r[0].city.slides[r[4]].media.url,autoplay:!0}}),{c(){e=h("div"),T(t.$$.fragment),this.h()},l(s){e=p(s,"DIV",{class:!0});var a=$(e);G(t.$$.fragment,a),a.forEach(u),this.h()},h(){c(e,"class","aspect-video bg-black")},m(s,a){V(s,e,a),C(t,e,null),l=!0},p(s,a){const i={};a&17&&(i.url=s[0].city.slides[s[4]].media.url),t.$set(i)},i(s){l||(y(t.$$.fragment,s),l=!0)},o(s){D(t.$$.fragment,s),l=!1},d(s){s&&u(e),q(t)}}}function pe(r){let e,t,l,s;const a=[he,me],i=[];function d(n,f){return n[0].city.slides[n[4]].media.type==="video"?0:1}return e=d(r),t=i[e]=a[e](r),{c(){t.c(),l=z()},l(n){t.l(n),l=z()},m(n,f){i[e].m(n,f),V(n,l,f),s=!0},p(n,f){let m=e;e=d(n),e===m?i[e].p(n,f):(Q(),D(i[m],1,1,()=>{i[m]=null}),K(),t=i[e],t?t.p(n,f):(t=i[e]=a[e](n),t.c()),y(t,1),t.m(l.parentNode,l))},i(n){s||(y(t),s=!0)},o(n){D(t),s=!1},d(n){i[e].d(n),n&&u(l)}}}function ve(r){let e,t,l;var s=r[2];function a(i){return{props:{mapData:i[0].city.slides,currentSlide:i[4]}}}return s&&(e=ee(s,a(r)),r[5](e)),{c(){e&&T(e.$$.fragment),t=z()},l(i){e&&G(e.$$.fragment,i),t=z()},m(i,d){e&&C(e,i,d),V(i,t,d),l=!0},p(i,d){const n={};if(d&1&&(n.mapData=i[0].city.slides),d&16&&(n.currentSlide=i[4]),s!==(s=i[2])){if(e){Q();const f=e;D(f.$$.fragment,1,0,()=>{q(f,1)}),K()}s?(e=ee(s,a(i)),i[5](e),T(e.$$.fragment),y(e.$$.fragment,1),C(e,t.parentNode,t)):e=null}else s&&e.$set(n)},i(i){l||(e&&y(e.$$.fragment,i),l=!0)},o(i){e&&D(e.$$.fragment,i),l=!1},d(i){r[5](null),i&&u(t),e&&q(e,i)}}}function ge(r){let e,t,l,s=r[0].city.name+"",a,i,d,n=r[0].city.slides[r[4]].text.headline+"",f;return{c(){e=h("div"),t=h("div"),l=h("p"),a=te(s),i=j(),d=h("h1"),f=te(n),this.h()},l(m){e=p(m,"DIV",{class:!0});var k=$(e);t=p(k,"DIV",{class:!0});var b=$(t);l=p(b,"P",{class:!0});var S=$(l);a=se(S,s),S.forEach(u),i=A(b),d=p(b,"H1",{class:!0});var P=$(d);f=se(P,n),P.forEach(u),b.forEach(u),k.forEach(u),this.h()},h(){c(l,"class","uppercase text-xs lg:text-base"),c(d,"class","pt-1 font-bold text-lg lg:text-2xl"),c(t,"class","flex-grow px-2"),c(e,"class","w-full h-full p-8 flex items-center text-left portrait:text-center portrait:py-3 portrait:px-0")},m(m,k){V(m,e,k),g(e,t),g(t,l),g(l,a),g(t,i),g(t,d),g(d,f)},p(m,k){k&1&&s!==(s=m[0].city.name+"")&&le(a,s),k&17&&n!==(n=m[0].city.slides[m[4]].text.headline+"")&&le(f,n)},d(m){m&&u(e)}}}function $e(r){let e,t,l=r[0].city.slides[r[4]].text.text+"";return{c(){e=h("div"),t=h("div"),this.h()},l(s){e=p(s,"DIV",{class:!0});var a=$(e);t=p(a,"DIV",{class:!0});var i=$(t);i.forEach(u),a.forEach(u),this.h()},h(){c(t,"class","pb-10 lg:pb-0"),c(e,"class","w-full h-full p-8 lg:flex items-center block text-left")},m(s,a){V(s,e,a),g(e,t),t.innerHTML=l},p(s,a){a&17&&l!==(l=s[0].city.slides[s[4]].text.text+"")&&(t.innerHTML=l)},d(s){s&&u(e)}}}function be(r){let e;return{c(){e=h("div"),this.h()},l(t){e=p(t,"DIV",{class:!0}),$(e).forEach(u),this.h()},h(){c(e,"class","w-10")},m(t,l){V(t,e,l)},p:B,d(t){t&&u(e)}}}function ye(r){let e,t,l,s;return{c(){e=h("a"),t=h("img"),this.h()},l(a){e=p(a,"A",{class:!0,href:!0});var i=$(e);t=p(i,"IMG",{class:!0,src:!0,alt:!0}),i.forEach(u),this.h()},h(){c(t,"class","w-full transform rotate-180"),J(t.src,l="/imgs/seta.svg")||c(t,"src",l),c(t,"alt","Proximo slide"),c(e,"class","flex items-center justify-center w-10 text-white"),c(e,"href",s=O+"/cidades/"+r[1].params.cidade+"/"+r[4])},m(a,i){V(a,e,i),g(e,t)},p(a,i){i&18&&s!==(s=O+"/cidades/"+a[1].params.cidade+"/"+a[4])&&c(e,"href",s)},d(a){a&&u(e)}}}function ke(r){let e;return{c(){e=h("div"),this.h()},l(t){e=p(t,"DIV",{class:!0}),$(e).forEach(u),this.h()},h(){c(e,"class","w-10")},m(t,l){V(t,e,l)},p:B,d(t){t&&u(e)}}}function we(r){let e,t,l,s;return{c(){e=h("a"),t=h("img"),this.h()},l(a){e=p(a,"A",{class:!0,href:!0});var i=$(e);t=p(i,"IMG",{class:!0,src:!0,alt:!0}),i.forEach(u),this.h()},h(){c(t,"class","w-full"),J(t.src,l="/imgs/seta.svg")||c(t,"src",l),c(t,"alt","Proximo slide"),c(e,"class","flex items-center justify-center w-10 text-white"),c(e,"href",s=O+"/cidades/"+r[1].params.cidade+"/"+(r[4]+2))},m(a,i){V(a,e,i),g(e,t)},p(a,i){i&18&&s!==(s=O+"/cidades/"+a[1].params.cidade+"/"+(a[4]+2))&&c(e,"href",s)},d(a){a&&u(e)}}}function Ee(r){let e,t,l,s,a,i,d,n,f,m,k,b,S,P,H,v=r[0].city.slides[r[4]].media.url!==""&&ie(r),w=ve(r);d=new F({props:{key:r[4],$$slots:{default:[ge]},$$scope:{ctx:r}}}),m=new F({props:{key:r[4],transitionDelay:300,$$slots:{default:[$e]},$$scope:{ctx:r}}});function U(o,_){return o[4]>0?ye:be}let N=U(r),E=N(r);function W(o,_){return o[4]<o[0].city.slides.length-2?we:ke}let R=W(r),I=R(r);return{c(){e=h("article"),t=h("div"),v&&v.c(),l=j(),s=h("div"),w&&w.c(),a=j(),i=h("div"),T(d.$$.fragment),n=j(),f=h("div"),T(m.$$.fragment),k=j(),b=h("div"),E.c(),S=j(),P=h("div"),I.c(),this.h()},l(o){e=p(o,"ARTICLE",{class:!0});var _=$(e);t=p(_,"DIV",{class:!0});var L=$(t);v&&v.l(L),L.forEach(u),l=A(_),s=p(_,"DIV",{class:!0});var M=$(s);w&&w.l(M),M.forEach(u),a=A(_),i=p(_,"DIV",{class:!0});var X=$(i);G(d.$$.fragment,X),X.forEach(u),n=A(_),f=p(_,"DIV",{class:!0});var Y=$(f);G(m.$$.fragment,Y),Y.forEach(u),k=A(_),b=p(_,"DIV",{class:!0});var Z=$(b);E.l(Z),Z.forEach(u),S=A(_),P=p(_,"DIV",{class:!0});var x=$(P);I.l(x),x.forEach(u),_.forEach(u),this.h()},h(){c(t,"class","video relative aspect-video bg-black overflow-hidden svelte-5i5bal"),c(s,"class","map relative aspect-video bg-green-300 svelte-5i5bal"),c(i,"class","city relative overflow-hidden svelte-5i5bal"),c(f,"class","info relative overflow-x-hidden min-h-[30vh] lg:min-h-0 bg-white svelte-5i5bal"),c(b,"class","arrow-left flex items-center justify-center svelte-5i5bal"),c(P,"class","arrow-right flex items-center justify-center right-0 bg-white svelte-5i5bal"),c(e,"class","grid min-h-full w-full svelte-5i5bal")},m(o,_){V(o,e,_),g(e,t),v&&v.m(t,null),g(e,l),g(e,s),w&&w.m(s,null),g(e,a),g(e,i),C(d,i,null),g(e,n),g(e,f),C(m,f,null),g(e,k),g(e,b),E.m(b,null),g(e,S),g(e,P),I.m(P,null),H=!0},p(o,[_]){o[0].city.slides[o[4]].media.url!==""?v?(v.p(o,_),_&17&&y(v,1)):(v=ie(o),v.c(),y(v,1),v.m(t,null)):v&&(Q(),D(v,1,1,()=>{v=null}),K()),w.p(o,_);const L={};_&16&&(L.key=o[4]),_&81&&(L.$$scope={dirty:_,ctx:o}),d.$set(L);const M={};_&16&&(M.key=o[4]),_&81&&(M.$$scope={dirty:_,ctx:o}),m.$set(M),N===(N=U(o))&&E?E.p(o,_):(E.d(1),E=N(o),E&&(E.c(),E.m(b,null))),R===(R=W(o))&&I?I.p(o,_):(I.d(1),I=R(o),I&&(I.c(),I.m(P,null)))},i(o){H||(y(v),y(w),y(d.$$.fragment,o),y(m.$$.fragment,o),H=!0)},o(o){D(v),D(w),D(d.$$.fragment,o),D(m.$$.fragment,o),H=!1},d(o){o&&u(e),v&&v.d(),w&&w.d(),q(d),q(m),E.d(),I.d()}}}function Ie(r,e,t){let l,s;oe(r,de,f=>t(1,s=f));let a,i;fe(async()=>{t(2,a=(await ae(()=>import("../chunks/leafletMap.306bbdd7.js"),["../chunks/leafletMap.306bbdd7.js","../chunks/index.fcc9cbf9.js","../assets/leafletMap.3625237c.css"],import.meta.url)).default)});let{data:d}=e;function n(f){ue[f?"unshift":"push"](()=>{i=f,t(3,i)})}return r.$$set=f=>{"data"in f&&t(0,d=f.data)},r.$$.update=()=>{r.$$.dirty&2&&t(4,l=parseInt(s.params.slide)-1|0)},[d,s,a,i,l,n]}class je extends re{constructor(e){super(),ne(this,e,Ie,Ee,ce,{data:0})}}export{je as default};
